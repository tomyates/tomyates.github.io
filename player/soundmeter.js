"use strict";export function SoundMeter(t){this.context=t,this.instant=0,this.script=t.createScriptProcessor(2048,1,1);const n=this;this.script.onaudioprocess=function(t){const c=t.inputBuffer.getChannelData(0);let i,o=0;for(i=0;i<c.length;++i)o+=c[i]*c[i];n.instant=Math.sqrt(o/c.length)}}SoundMeter.prototype.connectToSource=function(t,n){try{this.mic=this.context.createMediaStreamSource(t),this.mic.connect(this.script),this.script.connect(this.context.destination),void 0!==n&&n(null)}catch(t){console.error(t),void 0!==n&&n(t)}},SoundMeter.prototype.stop=function(){this.mic.disconnect(),this.script.disconnect()};